{"version":3,"sources":["../../src/_middleware/error-handler.js"],"names":["errorHandler","err","req","res","next","is404","toLowerCase","endsWith","statusCode","status","json","message","name"],"mappings":";AACA,SAASA,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACzC,UAAQ,IAAR;AACE,SAAK,OAAOH,GAAP,KAAe,QAApB;AACE;AACA,YAAMI,QAAQJ,IAAIK,WAAJ,GAAkBC,QAAlB,CAA2B,WAA3B,CAAd;AACA,YAAMC,aAAaH,QAAQ,GAAR,GAAc,GAAjC;AACA,aAAOF,IAAIM,MAAJ,CAAWD,UAAX,EAAuBE,IAAvB,CAA4B,EAAEC,SAASV,GAAX,EAA5B,CAAP;AACF,SAAKA,IAAIW,IAAJ,KAAa,mBAAlB;AACE;AACA,aAAOT,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,cAAX,EAArB,CAAP;AACF;AACE,aAAOR,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAASV,IAAIU,OAAf,EAArB,CAAP;AAVJ;AAYD;;AAED,eAAeX,YAAf","file":"error-handler.js","sourcesContent":["\r\nfunction errorHandler(err, req, res, next) {\r\n  switch (true) {\r\n    case typeof err === 'string':\r\n      // custom application error\r\n      const is404 = err.toLowerCase().endsWith('not found');\r\n      const statusCode = is404 ? 404 : 400;\r\n      return res.status(statusCode).json({ message: err });\r\n    case err.name === 'UnauthorizedError':\r\n      // jwt authentication error\r\n      return res.status(401).json({ message: 'Unauthorized' });\r\n    default:\r\n      return res.status(500).json({ message: err.message });\r\n  }\r\n}\r\n\r\nexport default errorHandler;\r\n"]}